import{s as f,B as o,r as n,u as j,b as v,c as y,d as C,e as w,j as e,W as T,T as b,a as W,f as A}from"./index-UxWg3ezt.js";import{C as E}from"./Container-tCW55QtL.js";import{C as L}from"./Card-0rpxK5Ba.js";import{T as d}from"./TextField-EtPTPldC.js";import"./FormControl-kAW0uwil.js";import"./OutlinedInput-10KJ4yo_.js";import"./useFormControl-3FAv15pH.js";import"./InputLabel-dtf-HdNi.js";import"./Select-Mt5imv_x.js";import"./react-is.production.min-pGgGHoNV.js";import"./FormHelperText-tsMyAYUM.js";const S=f(o)(()=>`
    overflow: auto;
    flex: 1;
    overflow-x: hidden;
    align-items: center;
`);function P(){const[a,p]=n.useState(""),[l,u]=n.useState(""),[r,i]=n.useState(""),m=j(),c=v(y),x=C(),g=w();n.useEffect(()=>{c!=null&&g("/")},[c]);const h=()=>{const s={email:a,password:l};m.login(s).then(t=>{console.log(t),typeof t=="string"?i(t):t.isAdmin?x(A(t)):i("Only administrators can login here")}).catch(t=>{console.error(t),i(t)})};return e.jsxs(S,{children:[e.jsx(T,{children:e.jsx("title",{children:"Login"})}),e.jsxs(E,{maxWidth:"sm",children:[e.jsx(o,{display:"flex",justifyContent:"center",py:5,alignItems:"center",children:e.jsx("img",{src:"/logo.png",style:{width:"50%"}})}),e.jsx(L,{sx:{p:2,mb:10,borderRadius:1},children:e.jsxs(o,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[(r==null?void 0:r.length)>0?e.jsx(b,{color:"red",align:"center",children:r}):null,e.jsx(d,{label:"username",value:a,onChange:s=>p(s.target.value),required:!0,fullWidth:!0}),e.jsx(d,{label:"password",type:"password",value:l,onChange:s=>u(s.target.value),required:!0,fullWidth:!0}),e.jsx(o,{marginLeft:1,marginTop:3,children:e.jsx(W,{variant:"contained",onClick:h,children:"Login"})})]})})]})]})}export{P as default};
